{% extends '@App/base.html.twig' %}
{# @var tracks \AppBundle\Entity\Track[] #}
{% block body %}
{#
    <table>
    {% for artist in artists %}
        <tr>
            <td>{{ loop.index%2 }}</td>
            <td>{{ artist.name }}</td>
            <td><a href="{{ artist.website }}">{{ artist.website }}</a></td>
            <td>{{ artist.nationality }}</td>
            <td>{{ artist.createdAt | date("m/d/Y H:i:s") }}</td>
        </tr>
    {% endfor %}
    </table>
#}

    <a href="{{ path('app_contacts') }}">contacts</a>
    <table class="table">
        {% for track in tracks %}
            <tr>
                <td>{{ loop.index%2 }}</td>
                <td>{{ track.titre }}</td>
                <td>
                    {% if track.artists is not empty %}
                        Artist : <br/>
                        {% for artist in track.artists %}
                            - {{ artist.name }} ({{ artist.nationality }}) : {{ artist.tracks.count }} titre(s) {% if not loop.last %}<br/>{% endif %}
                        {% endfor %}
                    {% else %}
                        UNKNOW ARTIST
                    {% endif %}
                </td>
                <td>{{ track.genre }}</td>
                <td>{{ track.releasedAt | date("m/d/Y H:i:s") }}</td>

            </tr>
        {% endfor %}
    </table>
{% endblock %}

{% block title %}
    index  + {{ parent() }}
{% endblock %}